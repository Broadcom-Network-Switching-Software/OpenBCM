/** \file dnx/swstate/auto_generated/types/trunk_types.h
 *
 * sw state types (structs/enums/typedefs)
 *
 * DO NOT EDIT THIS FILE!
 * This file is auto-generated.
 * Edits to this file will be lost when it is regenerated.
 */
/*
 * This license is set out in https://raw.githubusercontent.com/Broadcom-Network-Switching-Software/OpenBCM/master/Legal/LICENSE file.
 * 
 * Copyright 2007-2021 Broadcom Inc. All rights reserved.
 */

#ifndef __TRUNK_TYPES_H__
#define __TRUNK_TYPES_H__

#include <soc/dnxc/swstate/dnxc_sw_state_h_includes.h>
#include <include/soc/dnx/dnx_data/auto_generated/dnx_data_device.h>
#include <include/soc/dnx/dnx_data/auto_generated/dnx_data_trunk.h>
/*
 * STRUCTs
 */

/**
 * information about a member in a trunk group
 */
typedef struct {
    /**
     * system port of member
     */
    uint32 system_port;
    /**
     * member flags
     */
    uint32 flags;
    /**
     * index of the member inside the trunk group
     */
    int index;
    /**
     * member id to be used in system port aggregate assigned to this lag member
     */
    int spa_member_id;
} trunk_group_member_info_t;

/**
 * information about a trunk group
 */
typedef struct {
    /**
     * port selection criteria for trunk group
     */
    int psc;
    /**
     * psc profile id - only some psc use profiles
     */
    int psc_profile_id;
    /**
     * members in trunk group
     */
    trunk_group_member_info_t* members;
    /**
     * number of members in group
     */
    int nof_members;
    /**
     * index to the last member added, this is to optimize the action of finding the next free member.
     */
    int last_member_added_index;
    /**
     * indicates that this trunk group is used
     */
    int in_use;
    /**
     * trunk pp ports, one for each core
     */
    uint32* pp_ports;
    /**
     * trunk group IN header type, all trunk members should have this header type
     */
    uint32 in_header_type;
    /**
     * trunk group OUT header type, all trunk members should have this header type
     */
    uint32 out_header_type;
    /**
     * flags that were used to create this group
     */
    uint32 flags;
    /**
     * master trunk id - relevant only for virtual trunks
     */
    int master_trunk_id;
} trunk_group_info_t;

/**
 * information about trunk pool
 */
typedef struct {
    /**
     * groups in trunk bank
     */
    trunk_group_info_t* groups;
} trunk_pool_info_t;

/**
 * trunk system port entry information
 */
typedef struct {
    /**
     * trunk ID that this entry is connected to, value of -1 means that this entry is not connected to any trunk
     */
    int trunk_id;
    /**
     * similar to member flags
     */
    uint32 flags;
} trunk_system_port_entry_t;

/**
 * trunk system port db, connects between system ports to certain trunk attributes
 */
typedef struct {
    /**
     * an array of all system ports that is used to mark for each system if it is member of a lag, if so then which, in addition what flags was this member added to the lag with, and what is its status (dont_care/added_to_trunk/pending_to_be_added
     */
    trunk_system_port_entry_t* trunk_system_port_entries;
} trunk_system_port_db_t;

/**
 * profile information
 */
typedef struct {
    /**
     * psc profile type - only some psc use profiles
     */
    int psc_profile_type;
    /**
     * max nof members possible in this group - relevant for certain PSCs
     */
    int max_nof_members;
} profile_info_t;

/**
 * general sw state info about different PSCs
 */
typedef struct {
    /**
     * CHM instance allocated handle
     */
    uint32 chm_handle;
    /**
     * an array containing an entry for each possible profile with profile info
     */
    profile_info_t* profile_info;
} psc_general_info_t;

/**
 * information about trunk
 */
typedef struct {
    /**
     * pools in trunk module
     */
    trunk_pool_info_t* pools;
    /**
     * system port db that contains all the system ports in the system and connects them to trunks, used to search in an efficient way and to support basic roll-back capabilities
     */
    trunk_system_port_db_t trunk_system_port_db;
    /**
     * PSCs info
     */
    psc_general_info_t psc_general_info;
} trunk_info_t;


#endif /* __TRUNK_TYPES_H__ */
